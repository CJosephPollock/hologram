function gotStream(e){window.URL?video.src=window.URL.createObjectURL(e):video.src=e,video.onerror=function(t){e.stop()},e.onended=noStream,video.onloadedmetadata=function(e){document.getElementById("splash").hidden=!0,document.getElementById("app").hidden=!1},setTimeout(function(){document.getElementById("splash").hidden=!0,document.getElementById("app").hidden=!1},50),video.onloadedmetadata=function(){canvas.width=video.videoWidth,canvas.height=video.videoHeight}}function noStream(e){var t="No camera available.";1==e.code&&(t="User denied access to use camera."),document.getElementById("errorMessage").textContent=t}function capture(){return intervalId?(clearInterval(intervalId),void(intervalId=null)):void(intervalId=setInterval(function(){var e=(ctx.drawImage(video,0,0),document.createElement("img"));e.src=canvas.toDataURL("image/webp");var t=Math.floor(36*Math.random()),n=Math.floor(2*Math.random())?1:-1;e.style.transform="rotateZ("+n*t+"deg)";var a=window.innerWidth,d=window.innerHeight;e.style.top=Math.floor(Math.random()*d)+"px",e.style.left=Math.floor(Math.random()*a)+"px",gallery.appendChild(e)},150))}function init(){return navigator.getUserMedia?(navigator.getUserMedia({video:!0},gotStream,noStream),void document.body.classList.add("running")):void(document.getElementById("errorMessage").innerHTML="Sorry. <code>navigator.getUserMedia()</code> is not available.")}navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.getUserMedia,window.URL=window.URL||window.webkitURL;var app=document.getElementById("app"),video=document.getElementById("monitor"),canvas=document.getElementById("canvas"),effect=document.getElementById("effect"),gallery=document.getElementById("gallery"),captureButton=document.getElementById("capture"),starter=document.getElementById("starter"),ctx=canvas.getContext("2d"),intervalId=null;starter.addEventListener("click",function(e){init()},!1),captureButton.addEventListener("click",function(e){capture()},!1);
//# sourceMappingURL=app.js.map
